/*!
 * Lightbox v2.11.4
 * by Lokesh Dhakar - https://lokeshdhakar.com
 * License: MIT
 */
(function(window, document, $) {
  function Lightbox(options) {
    this.album = [];
    this.currentImageIndex = void 0;
    this.init();
  }
  Lightbox.prototype.init = function() {
    this.enable();
    this.build();
  };
  Lightbox.prototype.enable = function() {
    var self = this;
    $('body').on('click', 'a[data-lightbox]', function(event) {
      event.preventDefault();
      self.start($(this));
    });
  };
  Lightbox.prototype.build = function() {
    var self = this;
    var overlay = $('<div id="lightboxOverlay" class="lightboxOverlay"></div>');
    var lightbox = $(
      '<div id="lightbox">' +
        '<div class="lb-outerContainer">' +
          '<img class="lb-image" src="" />' +
          '<div class="lb-nav">' +
            '<a class="lb-prev"></a>' +
            '<a class="lb-next"></a>' +
          '</div>' +
          '<div class="lb-loader"></div>' +
        '</div>' +
        '<div class="lb-dataContainer">' +
          '<div class="lb-data">' +
            '<span class="lb-close">&times;</span>' +
            '<div class="lb-caption"></div>' +
          '</div>' +
        '</div>' +
      '</div>'
    );
    $('body').append(overlay, lightbox);
    overlay.hide();
    lightbox.hide();

    // Nav events
    lightbox.on('click', '.lb-prev', function(e) {
      self.changeImage(self.currentImageIndex - 1);
      e.stopPropagation();
    });
    lightbox.on('click', '.lb-next', function(e) {
      self.changeImage(self.currentImageIndex + 1);
      e.stopPropagation();
    });
    lightbox.on('click', '.lb-close, .lightboxOverlay', function() {
      self.end();
    });
  };
  Lightbox.prototype.start = function($link) {
    var self = this;
    var links = $link.closest('body').find('a[data-lightbox="' + $link.data('lightbox') + '"]');
    self.album = [];
    links.each(function(i, el) {
      self.album.push({
        link: $(el).attr('href'),
        title: $(el).attr('data-title') || $(el).attr('title') || ''
      });
      if ($(el)[0] === $link[0]) {
        self.currentImageIndex = i;
      }
    });
    $('#lightboxOverlay').fadeIn();
    $('#lightbox').fadeIn();
    self.changeImage(self.currentImageIndex);
  };
  Lightbox.prototype.changeImage = function(index) {
    var self = this;
    if (index < 0 || index >= self.album.length) return;
    self.currentImageIndex = index;
    var image = self.album[index];
    $('.lb-image').attr('src', image.link);
    $('.lb-caption').text(image.title);
    $('.lb-prev').toggle(index > 0);
    $('.lb-next').toggle(index < self.album.length - 1);
  };
  Lightbox.prototype.end = function() {
    $('#lightboxOverlay').fadeOut();
    $('#lightbox').fadeOut();
  };
  window.Lightbox = Lightbox;
  $(function() { new Lightbox(); });
})(window, document, window.jQuery);

